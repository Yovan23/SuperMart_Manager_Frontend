<div class="p-2 custom-class">
  <div
    class="grid m-5 border-3 justify-content-between"
    style="
      height: 90vh;
      border-radius: 3ch;
      border-color: #f0ebf8;
      overflow: hidden;
    "
  >
    <!-- Image section (hidden on mobile) -->
    <div
      class="col-8 md:col-8 hidden sm:block"
      style="
        background-image: url('https://wallpapers.com/images/featured/supermarket-pictures-brhr0v0zqqxvtafp.jpg');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        height: 100%;
        animation: fadeIn 2s ease-in;
      "
    >
      <!-- Empty div for background image -->
    </div>

    <!-- Login section (full width on mobile) -->
    <div
      class="col-12 sm:col-4 flex flex-row align-items-center justify-content-center"
      style="background-color: #00b4d8"
    >
      <div class="w-full p-4 text-white">
        <div class="text-center mb-5">
          <span class="text-5xl sm:text-4xl animate-pulse">Sign in to continue</span>
        </div>

        <form
          [formGroup]="loginForm"
          (ngSubmit)="onSubmit()"
          class="animate__animated animate__fadeInUp"
        >
          <!-- Email Input -->
          <div class="mb-4">
            <label for="email" class="block mb-2 font-semibold text-900">Email</label>
            <span class="p-float-label">
              <input
                pInputText
                id="email"
                formControlName="email"
                placeholder="Enter your email address"
                class="w-full p-3 border-round-md transition-colors duration-300 hover:border-primary focus:border-primary"
                [ngClass]="{
                  'ng-invalid ng-dirty': submitted && loginForm.get('email')?.invalid
                }"
              />
            </span>
            <small
              class="p-error block mt-1 animate__animated animate__shakeX"
              *ngIf="submitted && loginForm.get('email')?.errors?.['required']"
              style="color: #d32f2f"
            >
              Email is required
            </small>
            <small
              class="p-error block mt-1 animate__animated animate__shakeX"
              *ngIf="submitted && loginForm.get('email')?.errors?.['email']"
              style="color: #d32f2f"
            >
              Email is invalid
            </small>
          </div>

          <!-- Password Input -->
          <div class="mb-4 wider-container">
            <label for="password" class="block mb-2 font-semibold text-900">Password</label>
            <span class="p-float-label">
              <p-password
                fluid="true"
                id="password"
                placeholder="Enter your Password"
                formControlName="password"
                [toggleMask]="true"
                inputStyleClass="w-full p-3"
                [feedback]="false"
              ></p-password>
            </span>
            <small
              class="p-error block mt-1 animate__animated animate__shakeX"
              *ngIf="submitted && loginForm.get('password')?.errors?.['required']"
              style="color: #d32f2f"
            >
              Password is required
            </small>
            <small
              class="p-error block mt-1 animate__animated animate__shakeX"
              *ngIf="submitted && loginForm.get('password')?.errors?.['minlength']"
              style="color: #d32f2f"
            >
              Password must be at least 6 characters
            </small>
          </div>

          <!-- Forgot Password Link -->
          <div class="flex align-items-center justify-content-between mb-4">
            <a
              class="font-medium font-bold no-underline ml-2 text-right cursor-pointer custom-link transition-colors duration-300"
              (click)="sendResetLink()"
            >
              Forgot password?
            </a>
          </div>

          <!-- Error Message -->
          <div
            *ngIf="errorMessage"
            class="p-error block mb-3 text-center animate__animated animate__bounceIn"
            style="color: #d32f2f"
          >
            {{ errorMessage }}
          </div>

          <!-- Submit Button -->
          <button
            pButton
            type="submit"
            class="w-full p-3"
            style="
              color: #00b3ff;
              background-color: #ffffff;
              font-size: large;
              font-weight: 500;
            "
            [loading]="isLoading"
            [label]="isLoading ? 'Loading...' : 'Sign In'"
          ></button>
        </form>
      </div>
    </div>
  </div>
</div>